@import '../../../shared/styles/breakpoints.scss';
@import '../../../shared/styles/mixins.scss';
@import '../../../shared/styles/theme.scss';

.post {
  @include highlight-disabled();
  @include transition(0.25s, 0s, ease-in, opacity);
  align-items: center;
  box-sizing: border-box;
  display: flex;
  justify-content: center;
  opacity: 0;
  padding: 4px;
  width: 50%;
  z-index: 12;
  &-container {
    position: relative;
    width: 100%;
    &-caption {
      display: none;
      left: 0;
      opacity: 0;
      position: absolute;
      z-index: -1;
      &-content {
        display: flex;
        flex-wrap: wrap;
        overflow: hidden;
        &-tag {
          color: var(--tag-color);
          margin-left: 4px;
          overflow: hidden;
          text-overflow: clip;
          white-space: nowrap;
          &:nth-of-type(1) {
            margin-left: 0px;
          }
          &:visited {
            color: var(--tag-color);
          }
        }
        &-title {
          margin-right: 12px;
          overflow: hidden;
          text-overflow: ellipsis;
          text-transform: uppercase;
          white-space: nowrap;
        }
      }
    }
    &-photo {
      display: flex;
      justify-content: center;
      overflow: hidden;
      z-index: 11;
      &-overlay {
        @include highlight-disabled();
        height: 100%;
        left: 0;
        opacity: 0;
        position: absolute;
        top: 0;
        width: 100%;
        &-content {
          display: none;
        }
        &-group {
          display: none;
        }
        &-link {
          height: 100%;
          left: 0;
          position: absolute;
          top: 0;
          width: 100%;
        }
      }
      &-src {
        box-sizing: border-box;
        object-fit: cover;
        overflow: hidden;
        max-height: 1920px;
        max-width: 100%;
      }
    }
  }
}

@media (min-width: $sm) {
  .post {
    padding: 8px;
  }
}

@media (min-width: $md) {
  .post {
    padding: 16px;
  }
}

@media (min-width: $xl) {
  .post {
    padding: 24px;
    width: 33.3333%;
  }
}

@media (min-width: $fhd) {
  .post {
    padding: 32px;
  }
}

@media (min-width: $wqhd) {
  .post {
    padding: 48px;
    width: 25%;
    &-container {
      &-caption {
        &-content {
          font-size: 1.25rem;
          height: 28px;
        }
      }
    }
  }
}

@media (hover: hover) {
  .post {
    &-container {
      @include transition(0.33s, 0s, cubic-bezier(0.76, 0, 0.24, 1), filter);
      &:hover {
        & .post-container-caption {
          opacity: 1;
        }
        & .post-container-caption-content {
          transform: translateY(0);
        }
      }
      &-caption {
        @include transition(0.33s, 0s, cubic-bezier(0.76, 0, 0.24, 1), opacity);
        &-content {
          @include transition(
            0.33s,
            0s,
            cubic-bezier(0.76, 0, 0.24, 1),
            transform
          );
          &-tag {
            @include transition(0.25s, 0s, ease-in-out, color);
            &:hover {
              color: var(--theme-color-hover);
            }
            &:visited {
              &:hover {
                color: var(--theme-color-hover);
              }
            }
          }
        }
      }
    }
  }
}

@media (min-width: $xl) and (hover: hover) {
  .post {
    &-container {
      &:hover {
        & .post-container-photo-overlay {
          opacity: 1;
        }
        & .post-container-photo-src {
          filter: brightness(0.25);
        }
      }
      &-photo {
        &-overlay {
          @include transition(
            0.33s,
            0s,
            cubic-bezier(0.76, 0, 0.24, 1),
            opacity
          );
          color: #ebebeb;
          &-content {
            bottom: 16px;
            display: flex;
            flex-direction: column;
            left: 16px;
            position: absolute;
            &-date {
              color: #acacac;
              font-size: 0.8rem;
              padding-bottom: 4px;
              &:hover {
                color: #acacac;
              }
              &:visited {
                color: #acacac;
                &:hover {
                  color: #acacac;
                }
              }
            }
            &-tags {
              color: #acacac;
              display: flex;
              flex-wrap: wrap;
              width: calc(100% - 32px);
              &-item {
                @include transition(0.25s, 0s, ease-in-out, color);
                margin-right: 4px;
                &:hover {
                  color: white;
                }
                &:visited {
                  &:hover {
                    color: white;
                  }
                }
              }
            }
            &-title {
              font-size: 1.25rem;
              padding-bottom: 4px;
              text-transform: uppercase;
              width: calc(100% - 32px);
            }
          }
          &-group {
            align-items: center;
            display: flex;
            left: 16px;
            position: absolute;
            top: 16px;
            &-contributor {
              @include transition(0.25s, 0s, ease-out, opacity);
              align-items: center;
              display: flex;
              margin-left: 16px;
            }
            &-notes {
              align-items: center;
              display: flex;
            }
            &-text {
              margin-left: 8px;
            }
          }
        }
        &-src {
          @include transition(
            0.33s,
            0s,
            cubic-bezier(0.76, 0, 0.24, 1),
            filter
          );
        }
      }
    }
  }
}

@media (min-width: $fhd) and (hover: hover) {
  .post {
    &-container {
      &-photo {
        &-overlay {
          &-content {
            bottom: 24px;
            left: 24px;
            &-date {
              padding-bottom: 8px;
            }
            &-tags {
              width: calc(100% - 48px);
            }
            &-title {
              font-size: 1.5rem;
              padding-bottom: 8px;
              width: calc(100% - 48px);
            }
          }
          &-group {
            left: 24px;
            top: 24px;
          }
        }
      }
    }
  }
}

@media (min-width: $wqhd) and (hover: hover) {
  .post {
    &-container {
      &-photo {
        &-overlay {
          &-content {
            bottom: 32px;
            left: 32px;
            &-tags {
              width: calc(100% - 64px);
            }
            &-title {
              width: calc(100% - 64px);
            }
          }
          &-group {
            left: 32px;
            top: 32px;
          }
        }
      }
    }
  }
}
